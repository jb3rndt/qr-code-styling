<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>QR Code Styling</title>
</head>

<body>
  <div id="examples" style="display: grid; gap: 8px; grid-template-columns: repeat(4, minmax(0, 1fr))"></div>
  <div id="canvas"></div>
  <script type="application/javascript" charset="utf-8">
    const options = {
      "type": "svg",
      "data": "https://qr-code-styling.com",
      "width": 300,
      "height": 300,
      "margin": 0,
      dotsOptions: {
        type: "rounded",
      },
      backgroundOptions: {
        color: "#F1F1F1",
      },
    };

    const shape = [
      [1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1,],
      [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1,],
      [1, 0, 1, 1, 1, 0, 1, 0, 0, 1, 1, 0, 0, 0, 1, 0, 1, 1, 1, 0, 1,],
      [1, 0, 1, 1, 1, 0, 1, 0, 0, 0, 1, 1, 0, 0, 1, 0, 1, 1, 1, 0, 1,],
      [1, 0, 1, 1, 1, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 1, 1, 1, 0, 1,],
      [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0, 1,],
      [1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1,],
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,],
      [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0,],
      [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1, 1, 0, 1, 0, 0, 0,],
      [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 0, 0, 1, 0, 0, 0,],
      [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0,],
      [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 1, 1, 1, 0, 1, 0, 0, 0,],
      [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 1, 0, 1, 0, 0, 1, 0, 0, 0,],
      [1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0, 1, 1, 0, 1, 0, 0, 0,],
      [1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0,],
      [1, 0, 1, 1, 1, 0, 1, 0, 1, 0, 0, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0,],
      [1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0, 0,],
      [1, 0, 1, 1, 1, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 1, 1, 1,],
      [1, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1,],
      [1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1,],
    ]

    const styles = ['rounded', 'dots', 'classy', 'classy-rounded', 'square', 'extra-rounded']

    const gradient = {
      type: "linear",
      rotation: Math.PI / 2,
      colorStops: [{
        offset: 0,
        color: '#7EB0F1'
      }, {
        offset: 1,
        color: '#527CF8'
      }]
    }

    for (const style of styles) {
      const headline = document.createElement("h2");
      headline.innerText = `Dot Style: ${style}`;
      headline.style.gridColumn = "span 4";
      document.getElementById("examples").appendChild(headline);
      const opts = { ...options }
      opts.dotsOptions.type = style;

      const variants = [
        opts,
        { ...opts, shape: "circle", },
        { ...opts, margin: 20, cornersSquareOptions: { type: "dot" }, cornersDotOptions: { type: "dot" } },
        { ...opts, margin: 10, cornersSquareOptions: { type: "dot", gradient }, cornersDotOptions: { type: "dot", gradient }, backgroundOptions: { gradient } },
      ]

      for (const variant of variants) {
        const qrMock = {
          addData: () => { },
          make: () => { },
          isDark: (x, y) => shape[x][y] !== 0,
          getModuleCount: () => shape.length,
        };

        const builder = new QRCodeStyling.QRSVGBuilder(variant, window, qrMock);
        document.getElementById("examples").appendChild(builder.element());
        builder.drawQR()
      }
    }

    for (const style of styles) {
      const opts = { ...options }
      opts.dotsOptions.type = style;
      const qrCode = new QRCodeStyling.QRCodeStyling(opts);
      qrCode.append(document.getElementById("canvas"));
    }
  </script>
</body>

</html>
